# Instructor comments on code for the purposes of improvement

*N.B. You may remove this file from your repository after copying it so that others (potential employers, fans, open-source enthusiasts) do not see it.*

## General Comments

* You should add a .gitignore file.  [Here's a useful link in case you don't know what a .gitignore file does.](https://help.github.com/articles/ignoring-files)  Make one and add `node_modules/` to it so you don't commit the monstrosity that is a node_modules folder to your repo.  People will get all those files when they do an `npm install` via your `package.json`.

## `app.js`

For the most part, looks pretty good.  I only have a few nitpicks with this one.

If you ever make a real application not for a class project, you'll probably want to generate a real secret for your cookies.  On [Line 26](https://github.com/JLangowitz/mashup/blob/master/app.js#L26) you use the default secret generated by Express.  Just a pointer so you don't forget to actually populate this with something real later on.

On [Line 40](https://github.com/JLangowitz/mashup/blob/master/app.js#L40), your route to create a new video calls a handler called `vid.new`.  Probably better to use something like `vid.create` to avoid any collisions with JavaScript's reserved words.

## `models.js`

Cool.  No problems with this.  Though when you build a more complex application, you may consider making a separate folder for models, and then making each file in the directory its own model---for the sake of modularity; you know what I'm talking about.

## `routes/user.js`

In [Line 5](https://github.com/JLangowitz/mashup/blob/master/routes/user.js#L5) you don't need the default `list` route handler if you don't use it.  It's unnecessary code; DELETE.

## `routes/vids.js`

Already mentioned that you should use a verb other than `new` for the route name, so I won't mention that again!

In [Line 6](https://github.com/JLangowitz/mashup/blob/master/routes/vids.js#L6), you've got a debugging statement.  You typically don't want this kind of debugging statement in your application; DELETE.  Same thing in lines 16 and 18.

## `public/javascripts/main.js`

So you've got this AJAX POST happening on submitting of the upload form; cool.  The way you handle the callback to `$.post` is a little unusual, though.  In the [documentation of jQuery.post()](http://api.jquery.com/jQuery.post/), it says that the callback function will be called when the request succeeds (aka, the server sends back some data; in your case, with a `res.send()`).  Looks like that function will usually be passed `null` since you aren't expecting too many errors.  What I would do here is just handle the success:

```js

$.post ("/upload", { user: user, URL: URL, description: description }, function (data) {
  // You don't care about the data that's sent back, so you don't do anything with it
  $("#URL").val("");
  $("#description").val("");
  return false;
});

```

In your `vids.new` route (which is called when this AJAX request goes through), you'd have something more like:

```js

vid.save (function (err) {
  if (err)
    return console.log (err);
  res.send ('unused success data');
});

```

That unused success data is the data that will be passed to the `$.post` success callback, and if there's an error, you handle it on the server side.  To be really useful, instead of just `return console.log (err);`, you would probably `res.render ("error");` and have your server render and error page saying that there was an issue with POSTing the data.  Does this all make sense?  It's a bit more involved than your used to, but it's worth learning, so if you're confused you should talk to a member of the teaching team.

Also your `main.js` file is riddled with `console.log`s, which you don't want because the users will be able to see them in their browser consoles.  Also, what's the `setInterval` doing in [Line 23](https://github.com/JLangowitz/mashup/blob/master/public/javascripts/main.js#L23)?  Maybe the function `vidFeed` should be in there?

## `views/`

Views seem fine to me.  In both your `homepage.jade` and your `index.jade` you have identical code used to render the navbar at the top of the app.  To make your application code smaller and less redundant, you could move that into a `navbar.jade` file and then just add an `extends navbar` to `homepage` and `index`.

Also, dude, use [Bootswatch](http://bootswatch.com/)---no one can look at those default Twitter Bootstrap pages anymore. :dizzy_face::gun:
